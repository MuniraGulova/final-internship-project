**Часть 1. DevOps.**

Необходимо разработать веб-приложение и настроить автоматизированный процесс для его деплоя. Приложение будет размещено на виртуальной машине с использованием технологий Docker, Ansible и GitHub Actions.

1. **Разработка веб-приложения.** Создайте простое веб-приложение на языке по вашему выбору (например, Python/Flask, Node.js, Ruby on Rails, Golang). Оно может быть новым или основанным на предыдущем проекте.
2. **Создание Docker-контейнера.** Напишите Dockerfile для вашего приложения, чтобы он корректно копировал исходный код, устанавливал зависимости и запускал приложение. Обратите внимание на оптимизацию Dockerfile для уменьшения размера образа.
3. **Настройка Ansible.** Создайте Ansible playbook для деплоя Docker-контейнера с приложением на удаленном сервере. Убедитесь, что playbook устанавливает Docker, если он еще не установлен, и запускает контейнер с приложением.
4. **Настройка GitHub Actions.** Создайте репозиторий на GitHub и загрузите туда приложение, Dockerfile и Ansible playbook. Настройте workflow, который автоматически запускается при каждом изменении в репозитории. Workflow должен включать сборку Docker-образа, загрузку его в Docker Hub (или другой регистр) и выполнение Ansible playbook для деплоя на удаленном сервере.

**Результаты выполнения задания:**

- Приложение доступно через HTTP на выбранном порту.
- Docker-образ для приложения успешно создан и задеплоен.
- Автоматизированный процесс деплоя настроен с помощью GitHub Actions и Ansible.
- Документация, описывающая каждый шаг задания, включая инструкции по развертыванию и запуску приложения.

---

### О проекте

Создано веб-приложение для добавления и просмотра записей в SQLite базе данных, использующее HTML и CSS. Приложение использует порт 5000 для работы.

Проект представляет собой веб-приложение на Flask, развернутое в Docker-контейнере. Для автоматизации сборки и деплоя используется GitHub Actions и Docker Hub. Приложение деплоится на удаленный сервер EC2 через Ansible и SSH.

### Структура проекта

**Папка _app_ содержит:**

- **`app.py`** — основной файл веб-приложения на Flask.
- **`requirements.txt`** — файл с перечнем зависимостей для приложения.
- **`static`** — папка, содержащая изображения и main.css
- **`templates`** — папка с HTML-шаблонами страниц.
- **`instance`** — папка для базы данных, где хранятся записи.
- **`Dockerfile`** — файл конфигурации для создания Docker-контейнера.

**Папка deployment_ содержит:**

- `inventory.txt` — файл с хостом удаленного сервера для Ansible playbook.
- `deploy_docker_app.yml` — playbook для установки Docker и запуска контейнера на удаленном сервере.

### Используемый порт: 5000

---

### Этапы создания проекта:

1. **Разработка веб-приложения:**
    
2. **Создание Docker-контейнера:**
    
    - Написан Dockerfile, который использует базовый образ Python, устанавливает зависимости, копирует исходный код и запускает Flask-приложение.
    - Собран и протестирован Docker-образ.
3. **Настройка Ansible:**
    
    - Создан Ansible Playbook для установки Docker на сервере, загрузки Docker-образа и запуска контейнера с приложением.
4. **Настройка GitHub Actions:**
    
    - Настроен workflow, который автоматически собирает Docker-образ при пуше в ветку master, загружает его в Docker Hub и выполняет Ansible Playbook для деплоя приложения на удаленном сервере через SSH.
    - Настроены секреты в GitHub для Docker Hub и SSH-доступа к серверу.
  
---> Вторая часть находится на ветке oracle_branch
